<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <title>ded</title>
    <script type="text/javascript" src="ded.js"></script>
</head>

<body>
    <main></main>
</body>

<script type="text/javascript">
    var storedData = localStorage.getItem('ded-model');
    var flags = storedData ? JSON.parse(storedData) : null;

    var app = Elm.Main.init({
        node: document.querySelector('main'),
        flags: flags
    });

    app.ports.updateStorage.subscribe(function (state) {
        localStorage.setItem('ded-model', JSON.stringify(state));
    });
</script>

</html>
